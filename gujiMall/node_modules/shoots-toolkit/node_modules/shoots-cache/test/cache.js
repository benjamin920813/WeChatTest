var mongo = require('shoots-mongo');
var assert = require("assert");
var mocha = require('mocha');
var coMocha = require('co-mocha');


coMocha(mocha);

/*
var app = {
    id: 'sh55b3342897d26',
    secret: 'd40fd6ee2db5d9ff3924462b0a399e55',
    name: 'app2',
    server: 'http://127.0.0.1:3000'
};
*/
var app = {
	id: 'sh5600bbe2cef5a',
	secret: '44c04a63390014ab497fed3f58ee5ab3',
	name: "test",
	server: 'http://dev.api.zpage.me'
};


var cache = require('../index')(app);

var key = 'key';
var value = "i am the cache value";

describe('test cache set', function() {
	it('it should return true', function*() {
		var flag = yield cache.set(key, value);
		assert.equal(true, flag);
	});
});

describe('test cache get', function() {
	it('it should return the value', function*() {
		var val = yield cache.get(key);
		assert.equal(value, val);
	});
});

describe('test cache remove', function() {
	it('it should return the true', function*() {
		var val = yield cache.remove(key);
		assert.equal(true, val);
	});
});



