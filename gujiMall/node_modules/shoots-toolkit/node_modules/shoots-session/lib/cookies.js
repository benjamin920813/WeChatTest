var cookies = {};
module.exports = cookies;

cookies.get = function(ctx, key) {
    if (ctx && key)
        return ctx.cookies.get(key);
    return false;

}

/*
参考文档
ctx.cookies.get(name, [options])
获得 cookie 中名为 name 的值，options 为可选参数：
'signed': 如果为 true，表示请求时 cookie 需要进行签名。
 */
cookies.set = function(ctx, key, value, expireAfterSeconds) {
    if (!ctx) return false;
    var options = {
        path: '/',
        httpOnly: false
    };

    if (expireAfterSeconds && typeof(expireAfterSeconds) == 'number') {

        var now = new Date();
        var ts = now.getTime() + expireAfterSeconds * 1000;
        options.expires = new Date(ts);
    }
    ctx.cookies.set(key, value, options);
    return true;
}